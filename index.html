<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VHL | Final Visual Polish</title>
    <style>
        :root {
            --bg: #f0f2f5;
            --text: #000000;
            --text-dim: #999999; 
            --text-blue: #007AFF; 
            --text-red-alert: #ff3b30;
            
            /* UI COLORS */
            --input-bg: #e8e8e8; 
            --door-bg: #ffffff; 
            --white: #ffffff;
            
            /* STATES */
            --check-grey: #bbbbbb;
            --check-green: #34C759;
            --lock-red: #ff3b30;
            --btn-green: #34C759;
            --icon-final: #bbbbbb; 
            
            /* ANIMATION VARS */
            --beacon-color: #ff3b30; 
        }
        
        body {
            margin: 0; padding: 0; background-color: var(--bg); color: var(--text);
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            height: 100vh; overflow: hidden;
            display: flex; flex-direction: column; align-items: center; 
        }

        /* --- 1. REFINED LOCK SCREEN --- */
        .lock-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #ffffff; 
            z-index: 9999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: opacity 0.8s cubic-bezier(0.25, 1, 0.5, 1), transform 0.8s;
        }
        .lock-screen.unlocked { opacity: 0; pointer-events: none; transform: scale(1.1); }

        /* THE NEW BOX INPUT */
        .pin-input {
            width: 140px; 
            padding: 12px 16px; 
            font-size: 20px; 
            text-align: center;
            border: 1px solid #e0e0e0; 
            border-radius: 8px; /* Box shape */
            outline: none;
            font-weight: 600; 
            letter-spacing: 4px; 
            color: #000;
            background: #fafafa; 
            transition: 0.3s;
            /* MATCHING FONT */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }
        .pin-input:focus { 
            border-color: #bbbbbb; 
            background: #ffffff; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        .pin-input::placeholder { 
            color: #ccc; 
            letter-spacing: 1px; 
            font-size: 14px; 
            font-weight: 400;
        }


        /* --- MAIN APP --- */
        .top-section { margin-top: 80px; margin-bottom: 40px; text-align: center; }
        .brand-text { font-size: 28px; font-weight: 800; letter-spacing: -0.5px; }

        .component-wrapper {
            position: relative; width: 300px; z-index: 100;
            display: flex; flex-direction: column; align-items: center;
            opacity: 0; transform: translateY(20px); transition: 1s 0.3s;
        }
        body.access-granted .component-wrapper { opacity: 1; transform: translateY(0); }

        /* INPUT ROW */
        .input-row-container { position: relative; width: 100%; height: 60px; z-index: 50; }

        .input-anchor {
            position: relative; width: 100%; height: 100%;
            background: var(--input-bg); border-radius: 12px;
            box-shadow: inset 0 1px 3px rgba(0,0,0,0.06);
            display: flex; align-items: center; transition: 0.6s; z-index: 20;
        }

        .vault-input {
            flex: 1; height: 100%; border: none; background: transparent;
            padding: 0 20px; font-size: 16px; outline: none; color: var(--text); font-weight: 500;
        }
        
        .check-zone { width: 50px; height: 100%; display: flex; justify-content: center; align-items: center; }
        .check-icon { width: 24px; height: 24px; fill: var(--check-grey); transition: 0.6s; }
        .check-icon.valid { fill: var(--check-green); } 

        .hinge-knuckles {
            position: absolute; right: -5px; top: 12px; bottom: 12px; width: 5px;
            display: flex; flex-direction: column; justify-content: space-between;
            z-index: 55; pointer-events: none; opacity: 0; transition: opacity 0.6s; 
        }
        .knuckle {
            width: 5px; height: 10px; background: #888; border-radius: 2px;
            box-shadow: -1px 0 2px rgba(0,0,0,0.2);
            background: linear-gradient(to right, #666, #aaa);
        }

        /* DOOR */
        .door-container {
            position: absolute; left: 100%; top: 0; width: 60px; height: 60px;
            perspective: 1000px; z-index: 40;
        }
        .clean-door {
            width: 100%; height: 100%; background: var(--door-bg);
            border-radius: 0 12px 12px 0;
            transform-origin: left center; transform: rotateY(-115deg); opacity: 0;
            display: flex; justify-content: center; align-items: center;
            transition: transform 1.5s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.6s;
            box-shadow: 10px 10px 30px rgba(0,0,0,0.15), inset 1px 0 0 rgba(0,0,0,0.1);
            cursor: pointer; 
        }
        .door-container.open .clean-door { transform: rotateY(0deg); opacity: 1; }
        .input-anchor.active .hinge-knuckles { opacity: 1; }
        .input-anchor.active { border-top-right-radius: 0; border-bottom-right-radius: 0; }

        /* LOCK / ICON SYSTEM */
        .lock-wrapper { position: relative; width: 24px; height: 24px; display: flex; justify-content: center; align-items: center; }
        
        .lock-icon { 
            width: 100%; height: 100%; fill: var(--lock-red); z-index: 2; 
            transition: fill 0.6s, transform 0.6s, opacity 0.6s;
        }
        .lock-icon.final { fill: var(--icon-final); }

        .beacon-ring {
            position: absolute; width: 100%; height: 100%;
            border-radius: 50%; border: 2px solid var(--beacon-color);
            opacity: 0; z-index: 1; pointer-events: none;
        }
        
        .pulsing .lock-icon { animation: corePulse 3s infinite; }
        .pulsing .beacon-ring { animation: wavePing 3s infinite; }
        .stopped .lock-icon { opacity: 1; animation: none; } 
        .stopped .beacon-ring { animation: none; opacity: 0; display: none; }


        /* PRIVACY MENU */
        .privacy-menu {
            position: absolute; top: 70px; left: 0; width: 100%;
            background: white; border-radius: 8px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            border: 1px solid #e0e0e0;
            opacity: 0; transform: translateY(-10px) scale(0.98);
            pointer-events: none; transition: 0.8s cubic-bezier(0.25, 1, 0.5, 1);
            z-index: 30; overflow: hidden;
        }
        .privacy-menu.active { opacity: 1; transform: translateY(0) scale(1); pointer-events: auto; }

        .menu-header {
            padding: 12px 16px; font-size: 12px; text-transform: uppercase; 
            letter-spacing: 0.5px; font-weight: 700; color: var(--text-dim); 
            border-bottom: 1px solid #f0f0f0; background: #fafafa; transition: 0.6s;
        }
        .menu-header.pulsing { color: var(--text-red-alert); animation: textPulse 2s infinite ease-in-out; }
        .menu-header.selected { color: var(--text-blue); animation: none; }

        .menu-item {
            padding: 14px 16px; display: flex; align-items: center; cursor: pointer;
            transition: 0.4s; border-bottom: 1px solid #f5f5f5; justify-content: space-between;
        }
        .menu-item:hover { background: #f9f9f9; }
        .menu-left { display: flex; align-items: center; }
        .menu-svg { width: 18px; height: 18px; fill: var(--text-dim); margin-right: 12px; transition: 0.4s; }
        .menu-text { font-size: 14px; color: var(--text-dim); font-weight: 500; transition: 0.4s; }
        .menu-sub { font-size: 12px; color: #ccc; margin-left: 6px; font-weight: 400; transition: 0.4s; }

        .menu-item.selected .menu-svg { fill: var(--text-blue); }
        .menu-item.selected .menu-text { color: var(--text-blue); }
        .menu-item.selected .menu-sub { color: #8abef7; }
        .menu-item.selected { background: #f2f8ff; }
        .menu-check {
            width: 16px; height: 16px; fill: var(--check-green); opacity: 0; 
            transform: scale(0.5); transition: 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
        }
        .menu-item.selected .menu-check { opacity: 1; transform: scale(1); }


        /* ENTER BUTTON */
        .enter-btn-container {
            margin-top: 15px; width: 100%; height: 50px;
            position: relative; opacity: 0; transform: translateY(10px); pointer-events: none;
            transition: 0.8s;
        }
        .enter-btn-container.visible { opacity: 1; transform: translateY(0); pointer-events: auto; }

        .enter-btn {
            width: 100%; height: 100%; background: var(--btn-green);
            color: white; border: none; border-radius: 8px;
            font-size: 16px; font-weight: 600; cursor: pointer;
            position: relative; z-index: 2;
            display: flex; justify-content: center; align-items: center;
            box-shadow: 0 4px 12px rgba(52, 199, 89, 0.3);
            transition: 0.3s;
        }
        .enter-btn-container.pulsing .enter-btn { animation: btnGlow 2.5s infinite ease-in-out; }

        @keyframes btnGlow {
            0% { box-shadow: 0 4px 12px rgba(52, 199, 89, 0.3); background-color: var(--btn-green); }
            50% { box-shadow: 0 0 25px rgba(52, 199, 89, 0.6); background-color: #4cd964; } 
            100% { box-shadow: 0 4px 12px rgba(52, 199, 89, 0.3); background-color: var(--btn-green); }
        }
        @keyframes textPulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.6; } }
        @keyframes corePulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        @keyframes wavePing { 0% { opacity: 0; transform: scale(0.8); } 50% { opacity: 0.8; transform: scale(1.1); border-width: 2px; } 100% { opacity: 0; transform: scale(2.5); border-width: 0px; } }

        .bottom-section { margin-top: auto; padding-bottom: 60px; }
        .guest-btn { display: flex; flex-direction: column; align-items: center; opacity: 0.4; transition: 0.6s; }
        .door-icon { width: 28px; height: 42px; border: 2px solid var(--text); border-radius: 2px 2px 0 0; position: relative; margin-bottom: 8px; }
        .door-icon::after { content: ''; position: absolute; right: 4px; top: 50%; width: 4px; height: 4px; background: var(--text); border-radius: 50%; }
        .guest-text { font-size: 13px; font-weight: 600; color: var(--text); }

    </style>
</head>
<body>

    <div class="lock-screen" id="lockScreen">
        <input type="password" class="pin-input" id="pinInput" placeholder="ENTER PIN" maxlength="4">
    </div>

    <div class="top-section">
        <div class="brand-text">VerifiedLedger</div>
    </div>

    <div class="component-wrapper">
        <div class="input-row-container">
            <div class="input-anchor" id="inputAnchor">
                <input type="text" class="vault-input" id="userInput" placeholder="Phone or Email">
                <div class="check-zone">
                    <svg class="check-icon" id="checkIcon" viewBox="0 0 24 24">
                        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                    </svg>
                </div>
                <div class="hinge-knuckles">
                    <div class="knuckle"></div>
                    <div class="knuckle"></div>
                </div>
            </div>

            <div class="door-container" id="doorContainer">
                <div class="clean-door" onclick="clickLock()">
                    <div class="lock-wrapper" id="lockWrapper">
                        <svg class="lock-icon" id="mainLockIcon" viewBox="0 0 24 24">
                            <path d="M12 2C9.243 2 7 4.243 7 7v3H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v3H9V7c0-1.654 1.346-3 3-3zm0 10c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z"/>
                        </svg>
                        <div class="beacon-ring"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="privacy-menu" id="privacyMenu">
            <div class="menu-header" id="menuHeader">Select Privacy Level</div>
            
            <div class="menu-item" onclick="selectOption(this, 'private')">
                <div class="menu-left">
                    <svg class="menu-svg" viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/></svg>
                    <span class="menu-text">Private</span>
                    <span class="menu-sub">- Only you</span>
                </div>
                <svg class="menu-check" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
            </div>
            
            <div class="menu-item" onclick="selectOption(this, 'dynamic')">
                <div class="menu-left">
                    <svg class="menu-svg" viewBox="0 0 24 24"><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/></svg>
                    <span class="menu-text">Dynamic</span>
                    <span class="menu-sub">- Choose who sees</span>
                </div>
                <svg class="menu-check" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
            </div>
            
            <div class="menu-item" onclick="selectOption(this, 'publish')">
                <div class="menu-left">
                    <svg class="menu-svg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>
                    <span class="menu-text">Publish</span>
                    <span class="menu-sub">- Everyone sees</span>
                </div>
                <svg class="menu-check" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
            </div>
        </div>

        <div class="enter-btn-container" id="enterBtnContainer">
            <button class="enter-btn" onclick="window.location.href='app.html'">Enter</button>
        </div>
    </div>

    <div class="bottom-section">
        <div class="guest-btn">
            <div class="door-icon"></div>
            <div class="guest-text">Guest Door</div>
        </div>
    </div>

<script>
    // --- ICONS (SVG PATHS) ---
    const icons = {
        private: 'M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z',
        dynamic: 'M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z',
        publish: 'M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z'
    };

    // --- LOCK SCREEN LOGIC ---
    const pinInput = document.getElementById('pinInput');
    const lockScreen = document.getElementById('lockScreen');

    pinInput.addEventListener('input', (e) => {
        if(e.target.value === '2026') {
            lockScreen.classList.add('unlocked');
            document.body.classList.add('access-granted');
            pinInput.blur();
        }
    });

    // --- MAIN APP LOGIC ---
    const input = document.getElementById('userInput');
    const inputAnchor = document.getElementById('inputAnchor');
    const check = document.getElementById('checkIcon');
    const door = document.getElementById('doorContainer');
    const lockWrapper = document.getElementById('lockWrapper');
    const mainLockIcon = document.getElementById('mainLockIcon');
    const menu = document.getElementById('privacyMenu');
    const menuHeader = document.getElementById('menuHeader');
    const enterBtn = document.getElementById('enterBtnContainer');

    input.addEventListener('input', (e) => {
        if(e.target.value.length > 3) {
            check.classList.add('valid');
            setTimeout(() => {
                door.classList.add('open');
                inputAnchor.classList.add('active');
                lockWrapper.classList.add('pulsing');
                input.blur();
            }, 1000);
        } else {
            resetAll();
        }
    });

    function clickLock() {
        if (!door.classList.contains('open')) return;
        lockWrapper.classList.remove('pulsing');
        lockWrapper.classList.add('stopped');
        menu.classList.add('active');
        menuHeader.classList.add('pulsing');
    }

    function selectOption(element, type) {
        // UI Updates
        menuHeader.classList.remove('pulsing');
        menuHeader.classList.add('selected');
        document.querySelectorAll('.menu-item').forEach(el => el.classList.remove('selected'));
        element.classList.add('selected');

        // CHANGE THE DOOR ICON & GREY IT OUT
        // We find the path element inside the svg and update it
        const path = mainLockIcon.querySelector('path');
        path.setAttribute('d', icons[type]);
        mainLockIcon.classList.add('final'); 

        setTimeout(() => {
            menu.classList.remove('active');
            enterBtn.classList.add('visible');
            enterBtn.classList.add('pulsing');
        }, 1200); 
    }

    function resetAll() {
        check.classList.remove('valid');
        door.classList.remove('open');
        inputAnchor.classList.remove('active');
        lockWrapper.classList.remove('pulsing');
        lockWrapper.classList.remove('stopped');
        menu.classList.remove('active');
        menuHeader.classList.remove('pulsing');
        menuHeader.classList.remove('selected');
        enterBtn.classList.remove('visible');
        enterBtn.classList.remove('pulsing');
        document.querySelectorAll('.menu-item').forEach(el => el.classList.remove('selected'));
        
        // Reset Icon
        const defaultPath = 'M12 2C9.243 2 7 4.243 7 7v3H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v3H9V7c0-1.654 1.346-3 3-3zm0 10c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2z';
        mainLockIcon.querySelector('path').setAttribute('d', defaultPath);
        mainLockIcon.classList.remove('final');
    }
</script>

</body>
</html>
